plugins {
    id 'java'
    id 'org.jetbrains.intellij' version '0.6.5'
}

group 'com.vermouthx'
version '1.1.1'

repositories {
    mavenCentral()
}

compileJava {
    sourceCompatibility = JavaVersion.VERSION_11
    targetCompatibility = JavaVersion.VERSION_11
}

compileTestJava {
    sourceCompatibility = JavaVersion.VERSION_11
    targetCompatibility = JavaVersion.VERSION_11
}

intellij {
    version 'LATEST-EAP-SNAPSHOT'
    type 'IC'
}

buildSearchableOptions {
    enabled = false
}

patchPluginXml {
    sinceBuild "203.3645.34"
    untilBuild("211.*")
    changeNotes """
        <ul>
            <li>Enhanced UI and color scheme</li>
            <li>Support JetBrains 2021</li>
        </ul>
    """
    pluginDescription """
        Xcode Light & Dark themes for JetBrains IDEs.
        <br/><br/>
        To install:
        <ul>
            <li>Go to <i>Settings (Preferences) | Plugins</i>, find the theme plugin and install it</li>
            <li>Restart IDE</li>
            <li>Go to <i>Settings (Preferences) | Appearance & Behavior | Appearance</i> and see the <i>Theme</i> dropdown</li>
        </ul>
        <br/>
        <img src="https://raw.githubusercontent.com/WhiteVermouth/XcodeTheme/master/assets/screenshot.png" width="700" alt="Main window screenshot" />
    """
}

publishPlugin {
    token System.getProperty("jetbrains.token")
}